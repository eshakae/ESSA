<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran ESSA - Regenerasi</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h2>Proses Pendaftaran ESSA - Regenerasi</h2>

        <div id="message"></div>

        <form id="formPendaftaran">
            <label>Nama:</label>
            <input type="text" id="nama" name="nama" required>

            <label>Kelas:</label>
            <input type="text" id="kelas" name="kelas" required>

            <label>Divisi Saat Ini:</label>
            <select id="divisi" name="divisi" required>
                <option value="">-- Pilih Divisi --</option>
                <option value="Talent">Talent</option>
                <option value="Design">Design</option>
                <option value="Operator">Operator</option>
                <option value="Content Creator">Content Creator</option>
                <option value="Editor">Editor</option>
                <option value="Web Development">Web Development</option>
            </select>

            <label>Jabatan yang Dipilih:</label>
            <select id="jabatan" name="jabatan" required>
                <option value="">-- Pilih Jabatan --</option>
                <option value="Ketua">Ketua</option>
                <option value="Sekretaris">Sekretaris</option>
                <option value="Bendahara">Bendahara</option>
                <option value="Inventaris">Inventaris</option>
                <option value="Humas">Humas</option>
                <option value="PIC Talent">PIC Talent</option>
                <option value="PIC Design">PIC Design</option>
                <option value="PIC Operator">PIC Operator</option>
                <option value="PIC Content Creator">PIC Content Creator</option>
                <option value="PIC Editor">PIC Editor</option>
                <option value="PIC Web Development">PIC Web Development</option>
            </select>

            <button type="submit">Daftar</button>
        </form>

        <p><a href="peserta.html">Lihat Daftar Peserta</a></p>
    </div>

    <script>
        // Function to display message based on success or error
        function showMessage(type, message) {
            const messageDiv = document.getElementById('message');
            messageDiv.innerHTML = `<div class="${type}">${message}</div>`;
        }

        // Form submission handler
        document.getElementById('formPendaftaran').addEventListener('submit', function(event) {
            event.preventDefault();

            const nama = document.getElementById('nama').value.trim();
            const kelas = document.getElementById('kelas').value.trim();
            const divisi = document.getElementById('divisi').value;
            const jabatan = document.getElementById('jabatan').value;

            if (nama && kelas && divisi && jabatan) {
                let peserta = JSON.parse(localStorage.getItem('peserta')) || [];
                peserta.push({ nama, kelas, divisi, jabatan });
                localStorage.setItem('peserta', JSON.stringify(peserta));

                showMessage('success', 'Pendaftaran berhasil! Terima kasih telah mendaftar.');

                // Reset form setelah berhasil daftar
                document.getElementById('formPendaftaran').reset();

                // Redirect ke daftar peserta setelah 2 detik
                setTimeout(() => {
                    window.location.href = 'peserta.html';
                }, 2000);

            } else {
                showMessage('error', 'Mohon lengkapi semua kolom!');
            }
        });
    </script>
</body>
</html>
